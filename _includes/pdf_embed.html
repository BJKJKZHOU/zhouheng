<div class="pdf-container">
    <iframe 
        src="{{ site.baseurl }}/assets/pdfjs/web/viewer.html?file={{ site.baseurl }}{{ include.pdf_url }}" 
        width="100%" 
        height="600px" 
        style="border: 1px solid #ddd; border-radius: 4px;"
        id="pdf-frame"
        onerror="showPdfFallback()">
    </iframe>
</div>

<div id="pdf-fallback" style="display: none; text-align: center; padding: 20px; border: 1px solid #ffcccc; background: #fff5f5; border-radius: 4px;">
    <p style="margin-bottom: 15px;">⚠️ 无法加载PDF预览，请下载文件查看：</p>
    <a href="{{ site.baseurl }}{{ include.pdf_url }}" class="btn btn-primary" download style="display: inline-block; padding: 10px 20px; background: #007cba; color: white; text-decoration: none; border-radius: 4px;">
        📄 下载PDF文件
    </a>
    <p style="margin-top: 15px; font-size: 0.9em; color: #666;">
        文件大小：{{ include.file_size | default: "未知" }}
    </p>
</div>

<script>
function showPdfFallback() {
    document.getElementById('pdf-frame').style.display = 'none';
    document.getElementById('pdf-fallback').style.display = 'block';
}

// 可选：添加加载状态指示器
window.addEventListener('load', function() {
    var frame = document.getElementById('pdf-frame');
    frame.addEventListener('load', function() {
        console.log('PDF loaded successfully');
    });
});
</script>

<style>
.pdf-container {
    margin: 20px 0;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

@media (max-width: 768px) {
    .pdf-container iframe {
        height: 500px;
    }
}

@media (max-width: 480px) {
    .pdf-container iframe {
        height: 400px;
    }
}
</style>